package com.vaadin.flow.portal;

import javax.portlet.WindowState;

import com.vaadin.flow.component.button.Button;
import com.vaadin.flow.component.html.Div;
import com.vaadin.flow.component.html.Image;
import com.vaadin.flow.component.textfield.TextField;

public class PortletTwo extends Div
        implements WindowStateHandler<MySecondPortlet> {

    public static final String APPLICATION_IMAGE = "data:image/png;base64,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";

    @Override
    public void windowStateChange(WindowState newState) {
        if (newState.equals(WindowState.NORMAL)) {
            Image image = new Image(APPLICATION_IMAGE, "Application image");
            image.addClickListener(event -> maximize());
            add(image);
        } else if (newState.equals(WindowState.MAXIMIZED)) {
            TextField input = new TextField("");
            add(input, new Button("return", event -> normalize()));
        }
    }
}
